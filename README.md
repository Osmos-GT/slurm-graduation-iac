# Репозитарий Infrastructure-as-Code для приложения YELB.

Целью построенного в этом репозитарии CI/CD пайплайна является создание инфраструктуры и её подготовка для запуска учебного приложения Yelb.

Пайплайн предусматривает следующие этапы:

### Lint
Terraform validate. Также предусмотрен yamllint согласно ТЗ, который выполняется параллельно.

### Build
Создание плана.

### Terraform-deploy
Деплой инфраструктуры. Создание переменной с адресом БД через API Gitlab.

### Terraform-destroy-all
Уничтожение инфраструктуры. Удаление переменной с адресом БД через API Gitlab.

### Ingress-install
Установка ингресс-контроллера nginx-ingress.

### Certmanager-install
Установка certmanager и применение манифеста cluster issuer.

### Gitlab-runner-install
Получение токена для регистрации раннера, установка в кластер раннера из локального чарта. Установленный раннер зарегистрируется в Gitlab.

### Redis-install
Установка Redis.

### Db-prepare
Настройка базы данных: создание в ней таблицы определенной структуры.
